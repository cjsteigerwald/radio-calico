<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RadioCalico - Live Stream Player</title>

    <!-- Preconnect to external domains for faster resource loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

    <!-- Google Fonts - Optimized loading -->
    <style>:root{--color-mint:#d8f2d5;--color-forest-green:#1f4e23;--color-teal:#38a29d;--color-calico-orange:#efa63c;--color-charcoal:#231f20;--color-white:#fff;--color-light-gray:#f0f0f0;--color-medium-gray:#ccc;--color-dark-gray:#666;--color-black:#000;--font-primary:"Open Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;--font-heading:"Montserrat",var(--font-primary);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-size-xs:0.75rem;--font-size-sm:0.85rem;--font-size-base:1rem;--font-size-md:1.125rem;--font-size-lg:1.25rem;--font-size-xl:1.5rem;--font-size-2xl:2rem;--font-size-3xl:2.5rem;--spacing-xs:0.25rem;--spacing-sm:0.5rem;--spacing-md:1rem;--spacing-lg:1.5rem;--spacing-xl:2rem;--spacing-2xl:3rem;--border-radius-sm:4px;--border-radius-md:8px;--border-radius-lg:12px;--border-radius-full:50%;--shadow-sm:0 1px 2px 0 rgba(0,0,0,.05);--shadow-md:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--shadow-lg:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--container-max-width:1200px;--header-height:70px;--player-controls-height:80px;--z-index-base:1;--z-index-header:10;--z-index-overlay:20;--z-index-modal:30;--z-index-tooltip:40}*{box-sizing:border-box;margin:0;padding:0}:after,:before{box-sizing:border-box}html{line-height:1.15;-webkit-text-size-adjust:100%}body{background:var(--color-white);color:var(--color-charcoal);font-family:var(--font-primary);line-height:1.6;margin:0;min-height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:none;color:inherit;font-family:inherit;font-size:inherit;line-height:inherit;padding:0;text-align:inherit}input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0}img{display:block;height:auto;max-width:100%}.layout-container{display:flex;flex-direction:column;min-height:100vh}.main-content{display:grid;flex:1;gap:var(--spacing-2xl);grid-template-columns:1.5fr 1fr;margin:0 auto;max-width:var(--container-max-width);padding:var(--spacing-xl);width:100%}@media (max-width:768px){.main-content{gap:var(--spacing-lg);grid-template-columns:1fr;padding:var(--spacing-lg)}}@media (max-width:480px){.main-content{gap:var(--spacing-md);padding:var(--spacing-md)}}.footer-section{border-top:1px solid var(--color-light-gray);grid-column:1/-1;margin-top:var(--spacing-xl);padding-top:var(--spacing-lg)}@media (max-width:768px){.footer-section{margin-top:var(--spacing-lg);padding-top:var(--spacing-md)}}.header-bar{align-items:center;background:var(--color-charcoal);box-shadow:var(--shadow-md);color:var(--color-mint);display:flex;gap:var(--spacing-md);height:var(--header-height);justify-content:center;padding:var(--spacing-md) 0;position:sticky;text-align:center;top:0;z-index:var(--z-index-header)}.header-bar .logo{border-radius:var(--border-radius-sm);height:40px;object-fit:cover;width:40px}.header-title{font-family:var(--font-heading);font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold);letter-spacing:-.025em;margin:0}@media (max-width:480px){.header-bar{gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md)}.header-bar .logo{height:32px;width:32px}.header-title{font-size:var(--font-size-lg)}}.album-section{display:flex;flex-direction:column;gap:var(--spacing-lg);padding:var(--spacing-lg);position:relative}.album-artwork-container{align-items:center;aspect-ratio:1;background:var(--color-black);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);display:flex;justify-content:center;overflow:hidden;position:relative;width:100%}.album-artwork-large{height:100%;object-fit:cover;width:100%}.artist-overlay{background:linear-gradient(0deg,rgba(0,0,0,.8) 0,rgba(0,0,0,.4) 50%,transparent);bottom:0;color:var(--color-white);left:0;padding:var(--spacing-xl) var(--spacing-lg) var(--spacing-lg);position:absolute;right:0;transform:translateY(100%)}.artist-name-large{font-family:var(--font-heading);font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);letter-spacing:-.025em;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.5)}@media (max-width:768px){.album-section{padding:var(--spacing-md)}.artist-overlay{background:linear-gradient(180deg,rgba(0,0,0,.7),rgba(0,0,0,.9));padding:var(--spacing-md);position:relative;transform:none}.artist-name-large{font-size:var(--font-size-lg)}}@media (max-width:480px){.album-artwork-container{border-radius:var(--border-radius-md)}.artist-name-large{font-size:var(--font-size-md)}}.track-details-section{display:flex;flex-direction:column;gap:var(--spacing-lg);padding:var(--spacing-lg)}.track-info-main{display:flex;flex-direction:column;gap:var(--spacing-sm)}.track-artist-main{color:var(--color-charcoal);font-family:var(--font-heading);font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold);letter-spacing:-.025em;line-height:1.2;margin:0}.track-artist-sub{color:var(--color-teal);font-family:var(--font-heading);font-size:var(--font-size-lg);font-weight:var(--font-weight-medium);letter-spacing:-.015em;margin:0}.track-title-main{color:var(--color-dark-gray);font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);line-height:1.4;margin:0}.track-album-main{color:var(--color-dark-gray);font-size:var(--font-size-base);font-style:italic;font-weight:var(--font-weight-normal);line-height:1.5;margin:0}.quality-info{background:var(--color-light-gray);border-left:4px solid var(--color-teal);border-radius:var(--border-radius-md);padding:var(--spacing-md)}.quality-title{color:var(--color-charcoal);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);margin:0 0 var(--spacing-xs) 0}.quality-details{color:var(--color-dark-gray);font-size:var(--font-size-sm);font-weight:var(--font-weight-normal);margin:0}.quality-details span,.quality-title span{color:var(--color-teal);font-weight:var(--font-weight-semibold)}@media (max-width:768px){.track-details-section{gap:var(--spacing-md);padding:var(--spacing-md)}.track-artist-main{font-size:var(--font-size-xl)}.track-artist-sub{font-size:var(--font-size-md)}.track-title-main{font-size:var(--font-size-base)}}@media (max-width:480px){.track-artist-main{font-size:var(--font-size-lg)}.track-artist-sub{font-size:var(--font-size-base)}.track-album-main,.track-title-main{font-size:var(--font-size-sm)}.quality-info{padding:var(--spacing-sm)}}.rating-section{background:var(--color-white);border:1px solid var(--color-light-gray);border-radius:var(--border-radius-md);box-shadow:var(--shadow-sm);padding:var(--spacing-lg)}.rating-section p{color:var(--color-dark-gray);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);margin-bottom:var(--spacing-sm)}.rating-buttons{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}.rating-btn{align-items:center;background:var(--color-light-gray);border:2px solid transparent;border-radius:var(--border-radius-md);display:flex;font-size:var(--font-size-lg);justify-content:center;min-height:50px;min-width:50px;padding:var(--spacing-md);position:relative}.rating-btn.thumbs-up{background:var(--color-mint);border-color:var(--color-forest-green)}.rating-btn.thumbs-down{background:#ffebeb;border-color:#ff6b6b;color:#d63031}.rating-counts{display:flex;gap:var(--spacing-lg)}.rating-count{align-items:center;background:var(--color-light-gray);border-radius:var(--border-radius-sm);display:flex;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-sm)}.rating-count.up{background:rgba(216,242,213,.3);color:var(--color-forest-green)}.rating-count.down{background:hsla(0,100%,96%,.5);color:#d63031}.rating-count span{font-weight:var(--font-weight-semibold);min-width:20px;text-align:center}@media (max-width:768px){.rating-section{padding:var(--spacing-md)}.rating-btn{min-height:44px;min-width:44px;padding:var(--spacing-sm)}.rating-buttons{gap:var(--spacing-sm)}.rating-counts{gap:var(--spacing-md)}}@media (max-width:480px){.rating-btn{font-size:var(--font-size-base);min-height:40px;min-width:40px}.rating-counts{gap:var(--spacing-sm)}.rating-count{font-size:var(--font-size-xs);padding:var(--spacing-xs)}}.player-controls{align-items:center;background:var(--color-charcoal);border-radius:var(--border-radius-md);box-shadow:var(--shadow-lg);color:var(--color-white);display:flex;flex-wrap:wrap;gap:var(--spacing-lg);padding:var(--spacing-lg)}.play-btn{align-items:center;background:var(--color-teal);border-radius:var(--border-radius-full);box-shadow:var(--shadow-md);color:var(--color-white);display:flex;flex-shrink:0;height:60px;justify-content:center;width:60px}.play-btn svg{height:20px;width:20px}.time-info{align-items:center;display:flex;flex-shrink:0;font-family:var(--font-heading);font-size:var(--font-size-base);font-weight:var(--font-weight-medium);gap:var(--spacing-xs)}.elapsed-time{color:var(--color-white);font-weight:var(--font-weight-semibold)}.time-info span:last-child{color:var(--color-medium-gray)}.volume-control{align-items:center;display:flex;flex:1;gap:var(--spacing-sm);min-width:120px}.volume-icon{align-items:center;color:var(--color-medium-gray);display:flex;flex-shrink:0}.volume-icon svg{height:16px;width:16px}.volume-slider{background:hsla(0,0%,100%,.2);border-radius:var(--border-radius-full);flex:1;height:4px;outline:0}.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:var(--color-teal);border-radius:var(--border-radius-full);height:16px;width:16px}.volume-slider::-moz-range-thumb{background:var(--color-teal);border:none;border-radius:var(--border-radius-full);height:16px;width:16px}.volume-slider::-moz-range-track{background:hsla(0,0%,100%,.2);border-radius:var(--border-radius-full);height:4px}.status{background:var(--color-light-gray);border-left:3px solid var(--color-teal);border-radius:var(--border-radius-sm);color:var(--color-dark-gray);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);margin-top:var(--spacing-lg);padding:var(--spacing-sm) var(--spacing-md)}@media (max-width:768px){.player-controls{gap:var(--spacing-md);padding:var(--spacing-md)}.play-btn{height:50px;width:50px}.play-btn svg{height:18px;width:18px}.time-info{font-size:var(--font-size-sm)}}@media (max-width:480px){.player-controls{align-items:stretch;flex-direction:column;gap:var(--spacing-sm)}.volume-control{min-width:auto}.play-btn{height:44px;width:44px}.play-btn svg{height:16px;width:16px}.time-info{font-size:var(--font-size-xs)}}.recent-tracks{width:100%}.recent-tracks-title{color:var(--color-charcoal);font-family:var(--font-heading);font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);letter-spacing:-.015em;margin:0 0 var(--spacing-lg) 0}.recent-tracks-list{display:flex;flex-direction:column;gap:var(--spacing-md)}.recent-track{align-items:center;background:var(--color-white);border:1px solid var(--color-light-gray);border-radius:var(--border-radius-md);display:flex;gap:var(--spacing-sm);padding:var(--spacing-md)}.recent-track-artist{color:var(--color-charcoal);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold)}.recent-track-title{color:var(--color-dark-gray);flex:1;font-size:var(--font-size-sm);font-weight:var(--font-weight-normal)}@media (max-width:768px){.recent-tracks-title{font-size:var(--font-size-md);margin-bottom:var(--spacing-md)}.recent-track{gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md)}}@media (max-width:480px){.recent-track{align-items:flex-start;flex-direction:column;gap:var(--spacing-xs)}.recent-track-artist,.recent-track-title{font-size:var(--font-size-xs)}}.audio-player{display:none}</style>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&amp;family=Open+Sans:wght@400;500;600&amp;display=swap" rel="stylesheet" media="print" onload="this.media='all'">

    <!-- Bundled & Minified CSS -->
    <link rel="stylesheet" href="dist/styles.min.86650052.css" media="print" onload="this.media='all'">

    <!-- Favicon - WebP with PNG fallback -->
    <link rel="icon" type="image/webp" href="RadioCalicoLogoTM-favicon.webp">
    <link rel="icon" type="image/png" href="RadioCalicoLogoTM.png">

    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="RadioCalicoLogoTM-icon-192.webp">
    <link rel="manifest" href="/manifest.json">

    <!-- Meta tags for PWA and SEO -->
    <meta name="description" content="RadioCalico - Live streaming radio with high-quality audio and interactive features">
    <meta name="theme-color" content="#1F4E23">
    <meta name="application-name" content="RadioCalico">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="RadioCalico - Live Stream Player">
    <meta property="og:description" content="High-quality internet radio streaming">
    <meta property="og:image" content="RadioCalicoLogoTM.webp">
    <meta property="og:type" content="website">
</head>
<body class="layout-container">
    <!-- Header -->
    <header class="header-bar" role="banner">
        <picture>
            <source srcset="RadioCalicoLogoTM.webp" type="image/webp">
            <img src="RadioCalicoLogoTM.png" alt="RadioCalico Logo" class="logo">
        </picture>
        <h1 class="header-title">Radio Calico</h1>
    </header>

    <!-- Main Content -->
    <main class="main-content" role="main">
        <!-- Album Art Section -->
        <section class="album-section" aria-label="Album artwork and artist information">
            <div class="album-artwork-container">
                <img
                    id="albumArtworkLarge"
                    class="album-artwork-large"
                    src=""
                    alt="Album artwork"
                    style="display: none;"
                >
                <div
                    id="albumPlaceholder"
                    class="album-artwork-large loading"
                    aria-label="Loading album artwork"
                >
                    <div class="artist-overlay">
                        <h2 id="artistNameLarge" class="artist-name-large">LOADING</h2>
                    </div>
                </div>
            </div>
        </section>

        <!-- Track Details Section -->
        <section class="track-details-section" aria-label="Track information and controls">
            <!-- Track Information -->
            <div class="track-info-main">
                <h2 id="trackArtistMain" class="track-artist-main">Shandi</h2>
                <h3 id="trackArtistSub" class="track-artist-sub">Sinnamon</h3>
                <h4 id="trackTitleMain" class="track-title-main">He's A Dream (1983)</h4>
                <p id="trackAlbumMain" class="track-album-main">Flashdance (Original Motion Picture Soundtrack)</p>
            </div>

            <!-- Quality Information -->
            <div class="quality-info" role="region" aria-label="Audio quality information">
                <p class="quality-title">Source quality: <span id="sourceQuality">Loading...</span></p>
                <p class="quality-details">Stream quality: <span id="streamQuality">Loading...</span></p>
            </div>

            <!-- Rating Section -->
            <div class="rating-section" role="region" aria-label="Song rating">
                <p>Rate this track:</p>
                <div class="rating-buttons" role="group" aria-label="Rating buttons">
                    <button
                        id="thumbsUp"
                        class="rating-btn thumbs-up"
                        title="I like this song"
                        aria-label="Like this song"
                    >
                        👍
                    </button>
                    <button
                        id="thumbsDown"
                        class="rating-btn thumbs-down"
                        title="I don't like this song"
                        aria-label="Dislike this song"
                    >
                        👎
                    </button>
                </div>
                <div class="rating-counts" aria-live="polite">
                    <div class="rating-count up">
                        👍 <span id="thumbsUpCount" aria-label="Number of likes">0</span>
                    </div>
                    <div class="rating-count down">
                        👎 <span id="thumbsDownCount" aria-label="Number of dislikes">0</span>
                    </div>
                </div>
            </div>

            <!-- Player Controls -->
            <div class="player-controls" role="region" aria-label="Audio player controls">
                <button id="playBtn" class="play-btn" aria-label="Play or pause audio">
                    <svg id="playIcon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg id="pauseIcon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="display: none;" aria-hidden="true">
                        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                    </svg>
                </button>

                <div class="time-info" aria-label="Playback time">
                    <span id="elapsedTime" class="elapsed-time">0:00</span>
                    <span>/ Live</span>
                </div>

                <div class="volume-control">
                    <span class="volume-icon" aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
                        </svg>
                    </span>
                    <input
                        type="range"
                        id="volumeSlider"
                        class="volume-slider"
                        min="0"
                        max="100"
                        value="70"
                        aria-label="Volume control"
                    >
                </div>
            </div>

            <!-- Status Display -->
            <div id="status" class="status" role="status" aria-live="polite">
                Ready to play
            </div>
        </section>

        <!-- Recent Tracks Section -->
        <section class="footer-section" aria-label="Recently played tracks">
            <div class="recent-tracks">
                <h3 class="recent-tracks-title">Previous tracks:</h3>
                <div id="recentTracksList" class="recent-tracks-list" role="list">
                    <div class="recent-track" role="listitem" tabindex="0">
                        <span class="recent-track-artist">TLC:</span>
                        <span class="recent-track-title">Ain't 2 Proud 2 Beg</span>
                    </div>
                    <div class="recent-track" role="listitem" tabindex="0">
                        <span class="recent-track-artist">The Raconteurs:</span>
                        <span class="recent-track-title">Steady, As She Goes</span>
                    </div>
                    <div class="recent-track" role="listitem" tabindex="0">
                        <span class="recent-track-artist">Mick Jagger:</span>
                        <span class="recent-track-title">Just Another Night</span>
                    </div>
                    <div class="recent-track" role="listitem" tabindex="0">
                        <span class="recent-track-artist">Beyoncé:</span>
                        <span class="recent-track-title">Irreplaceable (Album Version)</span>
                    </div>
                    <div class="recent-track" role="listitem" tabindex="0">
                        <span class="recent-track-artist">Etta James:</span>
                        <span class="recent-track-title">I'd Rather Go Blind</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Hidden audio element -->
    <audio id="audioPlayer" class="audio-player" aria-hidden="true"></audio>

    <!-- External Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.15"></script>

    <!-- Application JavaScript (ES6 Modules) -->
    <script type="module" src="js/app.js?v=5"></script>

    <!-- Service Worker Registration (for PWA features) -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/sw.js');
                    console.log('ServiceWorker registered successfully');
                } catch (error) {
                    console.log('ServiceWorker registration failed:', error);
                }
            });
        }
    </script>

    <!-- Performance monitoring -->
    <script>
        // Basic performance monitoring
        window.addEventListener('load', () => {
            if (window.performance && window.performance.timing) {
                const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
                console.log('Page load time:', loadTime + 'ms');
            }
        });
    </script>
        <noscript><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&amp;family=Open+Sans:wght@400;500;600&amp;display=swap" rel="stylesheet"></noscript>
        <noscript><link rel="stylesheet" href="dist/styles.min.86650052.css"></noscript>
    </body>
</html>